<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Covid Impact</title>
  <meta name="description" content="Chapter 3 Data transformation | Covid Impact" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Covid Impact" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Covid Impact" />
  
  
  

<meta name="author" content="Run Zhang, Miranda Zhou, Mohan Duan, Neha Pusarla" />


<meta name="date" content="2020-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CovidImpact</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#covid-cases"><i class="fa fa-check"></i><b>2.1</b> Covid Cases</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#country-policy-orders"><i class="fa fa-check"></i><b>2.2</b> Country Policy Orders</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-sources.html"><a href="data-sources.html#description"><i class="fa fa-check"></i><b>2.2.1</b> Description</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-about-dataset"><i class="fa fa-check"></i><b>2.2.2</b> Basic Information about Dataset:</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#hospitalization-data"><i class="fa fa-check"></i><b>2.3</b> Hospitalization Data</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data-sources.html"><a href="data-sources.html#description-1"><i class="fa fa-check"></i><b>2.3.1</b> Description</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-on-this-dataset"><i class="fa fa-check"></i><b>2.3.2</b> Basic Information on this dataset:</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#restaurant-data"><i class="fa fa-check"></i><b>2.4</b> Restaurant data</a><ul>
<li class="chapter" data-level="2.4.1" data-path="data-sources.html"><a href="data-sources.html#description-2"><i class="fa fa-check"></i><b>2.4.1</b> Description</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-sources.html"><a href="data-sources.html#airlines-data"><i class="fa fa-check"></i><b>2.5</b> Airlines Data</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data-sources.html"><a href="data-sources.html#description-3"><i class="fa fa-check"></i><b>2.5.1</b> Description</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-about-dataset-1"><i class="fa fa-check"></i><b>2.5.2</b> Basic Information about Dataset:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#country-policy-orders-1"><i class="fa fa-check"></i><b>3.1</b> Country Policy Orders</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#hospitalization-data-1"><i class="fa fa-check"></i><b>3.2</b> Hospitalization Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#airlines-covid-data"><i class="fa fa-check"></i><b>3.3</b> Airlines Covid Data</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#restaurant-data-1"><i class="fa fa-check"></i><b>3.4</b> Restaurant data</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#us-covid-cases-data"><i class="fa fa-check"></i><b>3.5</b> US COVID Cases Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#country-policy-orders-2"><i class="fa fa-check"></i><b>4.1</b> Country Policy Orders</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#hospitalization"><i class="fa fa-check"></i><b>4.2</b> Hospitalization</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#airlines-covid-data-1"><i class="fa fa-check"></i><b>4.3</b> Airlines Covid Data</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#restaurant-data-2"><i class="fa fa-check"></i><b>4.4</b> Restaurant data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#covid-cases-1"><i class="fa fa-check"></i><b>5.1</b> Covid Cases</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#covid-maps"><i class="fa fa-check"></i><b>5.1.1</b> Covid Maps</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#covid19-cases-in-time-series"><i class="fa fa-check"></i><b>5.1.2</b> Covid19 Cases in Time Series</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#county"><i class="fa fa-check"></i><b>5.2</b> County</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#hospital"><i class="fa fa-check"></i><b>5.3</b> Hospital</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#covid-impact-on-airlines"><i class="fa fa-check"></i><b>5.4</b> Covid Impact on Airlines</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#covid-impact-on-restaurants"><i class="fa fa-check"></i><b>5.5</b> Covid Impact on Restaurants</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid Impact</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>Describe the process of getting the data into a form in which you could work with it in R. If your code does not lend itself to being including in the .Rmd file, provide a link to the folder or file(s) that contain(s) that code.
Write a draft of the <a href="https://edav.info/project#report-format">Data Transformation chapter</a></p>
<div id="country-policy-orders-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Country Policy Orders</h2>
<p>This dataset comes in a csv format, which can be read in using “read.csv()”. As described earlier, each row in this dataset is either a start or end of a policy. There is also information on both county and states. For our analysis, we will look at county and states separately. In addition, when we aggregate the number of states that enacted certain policies, we will only look at values where “start_stop” is “start” so we do not count double.</p>
<p>County Policies:</p>
<p>State:</p>
<pre><code>##    state_id county fips_code policy_level       date                                                         policy_type start_stop
## 1        HI               NA        state 2020-05-18                                                       Manufacturing      start
## 6        IA               NA        state 2020-05-28                                                    Childcare (K-12)      start
## 8        IN               NA        state 2020-05-04                                                             Phase 2      start
## 10       TN               NA        state 2020-03-25 Stop Initiation Of Evictions Overall Or Due To Covid Related Issues      start
## 11       VT               NA        state 2020-03-20                                         Allow Audio Only Telehealth      start
## 13       CT               NA        state 2020-03-19                                         Allow Audio Only Telehealth      start
##                                                                                                                                                                                                                                                                                                                  comments
## 1                                                                                                     Policy_Details: Open with adjusted &quot;Safe Practices&quot;   Source information: https://governor.hawaii.gov/wp-content/uploads/2020/05/2005088-ATG_Eighth-Supplementary-Proclamation-for-COVID-19-distribution-signed.pdf
## 6                                                                                                                    Policy_Details: 50% capacity Phase Level: 2, Phase Details Source information: https://governor.iowa.gov/sites/default/files/documents/Public%20Health%20Proclamation%20-%202020.05.26%20%281%29.pdf
## 8  Policy_Details: manufacturering &amp; industrial operations, public libraries, retail &amp; commercial businesses open at 50% capacity (shopping mall) indoor common areas open at 25% capacity) Phase Level: 2, Phase Details Source information: https://backontrack.in.gov/files/BackOnTrack-IN_WhatsOpen-Closed-stage2.pdf
## 10                                                                                                    Other measures and details for this policy include: religious gatherings exempt without clear social distance mandate, alcohol liquor stores open, keep firearms sellers open, made effort to limit abortion access
## 11                                                                                                                                                                                            Other measures and details for this policy include: alcohol liquor stores open, keep firearms sellers open, paid sick leave
## 13                                                                                                                                                                                            Other measures and details for this policy include: alcohol liquor stores open, keep firearms sellers open, paid sick leave
##                                                                                                                                                            source total_phases
## 1  sip_submission_form: https://governor.hawaii.gov/wp-content/uploads/2020/05/2005088-ATG_Eighth-Supplementary-Proclamation-for-COVID-19-distribution-signed.pdf           NA
## 6                      sip_submission_form: https://governor.iowa.gov/sites/default/files/documents/Public%20Health%20Proclamation%20-%202020.05.26%20%281%29.pdf           NA
## 8                                                                sip_submission_form: https://backontrack.in.gov/files/BackOnTrack-IN_WhatsOpen-Closed-stage2.pdf            5
## 10                                                                                                                              BU COVID-19 State Policy Database           NA
## 11                                                                                                                              BU COVID-19 State Policy Database           NA
## 13                                                                                                                              BU COVID-19 State Policy Database           NA</code></pre>
<p>Finally, we created this table by counting all the times each state appears in the previous dataframe to see how many policies each state enacted. This information is fed into our map visualization.</p>
<pre><code>##   state_id  n
## 1       AK 26
## 2       AL 23
## 3       AR 24
## 4       AZ 21
## 5       CA 21
## 6       CO 33</code></pre>
</div>
<div id="hospitalization-data-1" class="section level2">
<h2><span class="header-section-number">3.2</span> Hospitalization Data</h2>
<p>This dataset comes in a csv format, which can be read in using “read.csv()”. As seen in the dataset description, there are many different columns with a variety of different values. We are only concentrating on a few of these values in our analysis so we split the dataframe up. We will analyze inpatient bed use which is column index 40 to 51.</p>
<pre><code>##    state inpatient_beds_utilization inpatient_beds_utilization_coverage inpatient_beds_utilization_numerator inpatient_beds_utilization_denominator
## 1     PR                  0.5210526                                  68                                 4554                                   8740
## 2     RI                  0.8815252                                  14                                 1942                                   2203
## 3     SC                  0.7522707                                  72                                 7537                                  10019
## 4     SD                  0.6009192                                  62                                 1569                                   2611
## 5     TN                  0.7105063                                 126                                13052                                  18370
## 6     TX                  0.6969845                                 581                                48607                                  69739
## 7     UT                  0.5193685                                  52                                 2829                                   5447
## 8     VA                  0.6545324                                  98                                11813                                  18048
## 9     VI                  0.5119048                                   2                                   86                                    168
## 10    VT                  0.5167838                                  17                                  662                                   1281
## 11    WA                  0.6657132                                  97                                 8378                                  12585
## 12    WI                  0.6432042                                 145                                 8736                                  13582
## 13    WV                  0.7253169                                  59                                 4349                                   5996
## 14    AK                  0.6031519                                  22                                  842                                   1396
## 15    AL                  0.7260138                                 106                                10957                                  15092
## 16    AR                  0.6837396                                  88                                 5273                                   7712
## 17    AZ                  0.7072177                                  99                                10063                                  14229
## 18    CA                  0.6980157                                 380                                45096                                  64606
## 19    CO                  0.6574032                                  94                                 7286                                  11083
## 20    CT                  0.7138892                                  32                                 5916                                   8287
## 21    DC                  0.7686111                                  14                                 2767                                   3600
## 22    DE                  0.7093949                                  10                                  891                                   1256
## 23    FL                  0.7334046                                 237                                40481                                  55196
## 24    GA                  0.7629507                                 155                                15700                                  20578
## 25    HI                  0.6686699                                  23                                 1669                                   2496
## 26    IA                  0.5892166                                 122                                 4874                                   8272
## 27    MT                  0.6360601                                  66                                 1905                                   2995
## 28    NC                  0.7011099                                 121                                15918                                  22704
## 29    ND                  0.7472637                                  47                                 1502                                   2010
## 30    NE                  0.6407689                                  99                                 3200                                   4994
## 31    NH                  0.6657972                                  29                                 2042                                   3067
## 32    NJ                  0.7166617                                  79                                14392                                  20082
## 33    NM                  0.7290892                                  51                                 3138                                   4304
## 34    NV                  0.7575365                                  59                                 6433                                   8492
## 35    NY                  0.6969966                                 178                                38454                                  55171
## 36    OH                  0.6766236                                 202                                21066                                  31134
## 37    OK                  0.6944143                                 146                                 7049                                  10151
## 38    OR                  0.6921575                                  64                                 4607                                   6656
## 39    PA                  0.7319271                                 194                                24532                                  33517
## 40    ID                  0.5783063                                  48                                 1994                                   3448
## 41    IL                  0.6603277                                 188                                19827                                  30026
## 42    IN                  0.6327938                                 141                                11103                                  17546
## 43    KS                  0.5874462                                 136                                 4642                                   7902
## 44    KY                  0.6967598                                 104                                 8752                                  12561
## 45    LA                  0.6351351                                 221                                 8883                                  13986
## 46    MA                  0.6542542                                  80                                12826                                  19604
## 47    MD                  0.7695541                                  53                                 8422                                  10944
## 48    ME                  0.6469638                                  37                                 2003                                   3096
## 49    MI                  0.7618118                                 159                                18349                                  24086
## 50    MN                  0.7213555                                 130                                 7259                                  10063
## 51    MO                  0.7336628                                 128                                11283                                  15379
## 52    MS                  0.6097649                                 102                                 5083                                   8336
## 53    WY                  0.4689922                                  29                                  726                                   1548
##    percent_of_inpatients_with_covid percent_of_inpatients_with_covid_coverage percent_of_inpatients_with_covid_numerator percent_of_inpatients_with_covid_denominator
## 1                        0.15774971                                        65                                        687                                         4355
## 2                        0.23892405                                        13                                        453                                         1896
## 3                        0.10940011                                        70                                        817                                         7468
## 4                        0.35946844                                        59                                        541                                         1505
## 5                        0.20017623                                       104                                       2499                                        12484
## 6                        0.19451931                                       583                                       9455                                        48607
## 7                        0.20222302                                        51                                        564                                         2789
## 8                        0.14324786                                        95                                       1676                                        11700
## 9                        0.00000000                                         2                                          0                                           86
## 10                       0.03863988                                        16                                         25                                          647
## 11                       0.12316221                                        95                                       1022                                         8298
## 12                       0.25428335                                       142                                       2152                                         8463
## 13                       0.15883041                                        55                                        679                                         4275
## 14                       0.18289786                                        22                                        154                                          842
## 15                       0.17684191                                       102                                       1877                                        10614
## 16                       0.20329777                                        87                                       1048                                         5155
## 17                       0.26474152                                        96                                       2622                                         9904
## 18                       0.20204810                                       370                                       8997                                        44529
## 19                       0.26614808                                        92                                       1916                                         7199
## 20                       0.22958923                                        31                                       1347                                         5867
## 21                       0.08336449                                        13                                        223                                         2675
## 22                       0.14497717                                         9                                        127                                          876
## 23                       0.12053033                                       231                                       4800                                        39824
## 24                       0.16577575                                       152                                       2574                                        15527
## 25                       0.03475135                                        23                                         58                                         1669
## 26                       0.24536941                                       120                                       1179                                         4805
## 27                       0.24114225                                        65                                        456                                         1891
## 28                       0.14684782                                       117                                       2313                                        15751
## 29                       0.31013514                                        46                                        459                                         1480
## 30                       0.29100697                                        98                                        919                                         3158
## 31                       0.08765916                                        29                                        179                                         2042
## 32                       0.21866256                                        78                                       3126                                        14296
## 33                       0.28311097                                        50                                        870                                         3073
## 34                       0.25882170                                        59                                       1665                                         6433
## 35                       0.13521650                                       169                                       5165                                        38198
## 36                       0.26224963                                       199                                       5486                                        20919
## 37                       0.24669991                                       144                                       1682                                         6818
## 38                       0.15275625                                        62                                        690                                         4517
## 39                       0.22937287                                       188                                       5585                                        24349
## 40                       0.24087591                                        47                                        462                                         1918
## 41                       0.30311687                                       183                                       5942                                        19603
## 42                       0.31553089                                       139                                       3468                                        10991
## 43                       0.26575104                                       133                                       1219                                         4587
## 44                       0.20969613                                       102                                       1808                                         8622
## 45                       0.13475177                                       221                                       1197                                         8883
## 46                       0.08981612                                        79                                       1143                                        12726
## 47                       0.24211658                                        52                                       2027                                         8372
## 48                       0.08796764                                        36                                        174                                         1978
## 49                       0.24464765                                       156                                       4468                                        18263
## 50                       0.29236260                                       129                                       2048                                         7005
## 51                       0.24826592                                       124                                       2756                                        11101
## 52                       0.21744325                                       100                                       1092                                         5022
## 53                       0.35593220                                        27                                        252                                          708
##    inpatient_bed_covid_utilization inpatient_bed_covid_utilization_coverage inpatient_bed_covid_utilization_numerator inpatient_bed_covid_utilization_denominator
## 1                       0.08052073                                       64                                       668                                        8296
## 2                       0.21217799                                       13                                       453                                        2135
## 3                       0.08293574                                       70                                       817                                        9851
## 4                       0.21614063                                       59                                       541                                        2503
## 5                       0.14465991                                      104                                      2499                                       17275
## 6                       0.13557694                                      581                                      9455                                       69739
## 7                       0.10516502                                       51                                       564                                        5363
## 8                       0.09427912                                       95                                      1676                                       17777
## 9                       0.00000000                                        2                                         0                                         168
## 10                      0.02009646                                       16                                        25                                        1244
## 11                      0.08200273                                       95                                      1022                                       12463
## 12                      0.16332726                                      142                                      2152                                       13176
## 13                      0.11719020                                       55                                       679                                        5794
## 14                      0.11031519                                       22                                       154                                        1396
## 15                      0.12811412                                      102                                      1877                                       14651
## 16                      0.13978925                                       86                                      1048                                        7497
## 17                      0.18806484                                       96                                      2622                                       13942
## 18                      0.14158248                                      370                                      8997                                       63546
## 19                      0.17492924                                       92                                      1916                                       10953
## 20                      0.16430837                                       31                                      1347                                        8198
## 21                      0.06433930                                       13                                       223                                        3466
## 22                      0.10367347                                        9                                       127                                        1225
## 23                      0.08867541                                      231                                      4800                                       54130
## 24                      0.12689805                                      152                                      2574                                       20284
## 25                      0.02323718                                       23                                        58                                        2496
## 26                      0.14434378                                      120                                      1179                                        8168
## 27                      0.15374241                                       65                                       456                                        2966
## 28                      0.10328198                                      117                                      2313                                       22395
## 29                      0.23135081                                       46                                       459                                        1984
## 30                      0.18701669                                       98                                       919                                        4914
## 31                      0.05836322                                       29                                       179                                        3067
## 32                      0.15673887                                       78                                      3126                                       19944
## 33                      0.20768680                                       50                                       870                                        4189
## 34                      0.19606689                                       59                                      1665                                        8492
## 35                      0.09476195                                      169                                      5165                                       54505
## 36                      0.17778786                                      199                                      5486                                       30857
## 37                      0.17175534                                      144                                      1682                                        9793
## 38                      0.10577955                                       62                                       690                                        6523
## 39                      0.16842074                                      188                                      5585                                       33161
## 40                      0.13709199                                       47                                       462                                        3370
## 41                      0.20079073                                      183                                      5942                                       29593
## 42                      0.19962010                                      139                                      3468                                       17373
## 43                      0.15622197                                      133                                      1219                                        7803
## 44                      0.14603021                                      102                                      1808                                       12381
## 45                      0.08558559                                      221                                      1197                                       13986
## 46                      0.05868460                                       79                                      1143                                       19477
## 47                      0.18704438                                       52                                      2027                                       10837
## 48                      0.05676998                                       36                                       174                                        3065
## 49                      0.18655532                                      156                                      4468                                       23950
## 50                      0.21111226                                      129                                      2048                                        9701
## 51                      0.18283137                                      124                                      2756                                       15074
## 52                      0.13228346                                      100                                      1092                                        8255
## 53                      0.16901408                                       27                                       252                                        1491</code></pre>
<p>We then calculate the proportion of beds used by covid patients, non-covid patients, and empty beds. To do this, we extract total bed “inpatient bed”, covid bed “inpatient_beds_used_covid”, non-covid bed “inpatient_beds_used - covid_bed”, and empty bed “total bed - inpatient_beds_used”.</p>
<p>We also analyze staffing shortages in a similar fashion. Staff information is columns 1-7.</p>
<pre><code>##   state critical_staffing_shortage_today_yes critical_staffing_shortage_today_no critical_staffing_shortage_today_not_reported
## 1    PR                                    7                                  15                                            47
## 2    RI                                    2                                  11                                             1
## 3    SC                                   22                                  48                                             2
## 4    SD                                   10                                  49                                             3
## 5    TN                                   24                                  80                                            40
## 6    TX                                  132                                 451                                             0
##   critical_staffing_shortage_anticipated_within_week_yes critical_staffing_shortage_anticipated_within_week_no critical_staffing_shortage_anticipated_within_week_not_reported
## 1                                                      8                                                    14                                                              47
## 2                                                      2                                                    11                                                               1
## 3                                                     27                                                    43                                                               2
## 4                                                     13                                                    46                                                               3
## 5                                                     35                                                    69                                                              40
## 6                                                    156                                                   427                                                               0</code></pre>
<p>We then calculate the proportion by diving those that reported “critical staffing shortage today yes” over the sum of both yes and no.</p>
</div>
<div id="airlines-covid-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Airlines Covid Data</h2>
<p>This dataset comes in a xlsx format, therefore we installed the “readxl” package, and read in the data using the commands from that package. Since there are some extra spaces in the excel sheet, we remade the table into a form that had no blank spaces, and thus easily callable by column name, which is a dataframe in R. Combining all the columns together into a dataframe, we then renamed the columns such that it would be representative of the information in the column. Lastly, since all the data was in character format, we converted all the columns that had numeric data to a numeric form, such that it can be easily used to create graphs and other visual structures to aid us in our exploratory analysis. Our final product of the downloaded data was a dataframe in R, which had columns that were clearly represented by their names, no missing slots or data, and all the data was the right type of class to work with. The top 5 rows of how the dataframe is structured can be seen below. This will be used for different types of analyses on the impact of covid on the airline/travel industry.</p>
<pre><code>##   year    month Tot_Flights Alaska Allegiant American  Delta Frontier Hawaiian JetBlue Southwest Spirit United
## 1 2019  January      619099  34663      6713   162931 134243     9496     7514   23463    107363  15023 117690
## 2 2019 February      564614  30069      7180   150607 121264     8643     6668   22053     94922  13447 109761
## 3 2019    March      675659  35864     10218   173395 151495     9663     7581   25502    114119  17034 130788
## 4 2019    April      652533  35270      9219   165821 146206     9637     7611   24966    110752  16316 126735
## 5 2019      May      680165  37218      9008   177012 151695    11254     7958   24886    113709  17814 129611
## 6 2019     June      679802  37953     11037   173440 153427    11337     7896   24204    112879  17553 130076</code></pre>
</div>
<div id="restaurant-data-1" class="section level2">
<h2><span class="header-section-number">3.4</span> Restaurant data</h2>
<p>Two datasets come in a csv format, which can be read in using R commands. Each row contains information of a country or a state and each columns represent different dates. To clean this data we want to change the date columns to one column.</p>
<p>The original YoY_Seated_Diner_Data-2.csv file contains information about 8 country of 60 state and 60 cities, and the reopen dataset contains 8 countries and 9 states, including 8 US states. Here we only extract US state and nationwide information.</p>
</div>
<div id="us-covid-cases-data" class="section level2">
<h2><span class="header-section-number">3.5</span> US COVID Cases Data</h2>
<p>US-state data is in csv format and we can read it directly into R. It contains cumulative COVID case numbers by states of each day. We want to see the daily new cases by substract the cumulative data by the data of previous day.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/run-zhang/CovidImpact/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/run-zhang/CovidImpact/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
