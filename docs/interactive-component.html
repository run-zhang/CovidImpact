<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | Covid Impact</title>
  <meta name="description" content="Chapter 6 Interactive component | Covid Impact" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | Covid Impact" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | Covid Impact" />
  
  
  

<meta name="author" content="Run Zhang, Miranda Zhou, Mohan Duan, Neha Pusarla" />


<meta name="date" content="2020-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CovidImpact</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#covid-cases"><i class="fa fa-check"></i><b>2.1</b> Covid Cases</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-sources.html"><a href="data-sources.html#description"><i class="fa fa-check"></i><b>2.1.1</b> Description</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#country-policy-orders"><i class="fa fa-check"></i><b>2.2</b> Country Policy Orders</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-sources.html"><a href="data-sources.html#description-1"><i class="fa fa-check"></i><b>2.2.1</b> Description</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-about-dataset"><i class="fa fa-check"></i><b>2.2.2</b> Basic Information about Dataset:</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#hospitalization-data"><i class="fa fa-check"></i><b>2.3</b> Hospitalization Data</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data-sources.html"><a href="data-sources.html#description-2"><i class="fa fa-check"></i><b>2.3.1</b> Description</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-on-this-dataset"><i class="fa fa-check"></i><b>2.3.2</b> Basic Information on this dataset:</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#restaurant-data"><i class="fa fa-check"></i><b>2.4</b> Restaurant data</a><ul>
<li class="chapter" data-level="2.4.1" data-path="data-sources.html"><a href="data-sources.html#description-3"><i class="fa fa-check"></i><b>2.4.1</b> Description</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-sources.html"><a href="data-sources.html#airlines-data"><i class="fa fa-check"></i><b>2.5</b> Airlines Data</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data-sources.html"><a href="data-sources.html#description-4"><i class="fa fa-check"></i><b>2.5.1</b> Description</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-sources.html"><a href="data-sources.html#basic-information-about-dataset-1"><i class="fa fa-check"></i><b>2.5.2</b> Basic Information about Dataset:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#country-policy-orders-1"><i class="fa fa-check"></i><b>3.1</b> Country Policy Orders</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#hospitalization-data-1"><i class="fa fa-check"></i><b>3.2</b> Hospitalization Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#airlines-covid-data"><i class="fa fa-check"></i><b>3.3</b> Airlines Covid Data</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#restaurant-data-1"><i class="fa fa-check"></i><b>3.4</b> Restaurant data</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#us-covid-cases-data"><i class="fa fa-check"></i><b>3.5</b> US COVID Cases Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#country-policy-orders-2"><i class="fa fa-check"></i><b>4.1</b> Country Policy Orders</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#hospitalization"><i class="fa fa-check"></i><b>4.2</b> Hospitalization</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#airlines-covid-data-1"><i class="fa fa-check"></i><b>4.3</b> Airlines Covid Data</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#restaurant-data-2"><i class="fa fa-check"></i><b>4.4</b> Restaurant data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#covid-cases-1"><i class="fa fa-check"></i><b>5.1</b> Covid Cases</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#covid-maps"><i class="fa fa-check"></i><b>5.1.1</b> Covid Maps</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#covid19-cases-in-time-series"><i class="fa fa-check"></i><b>5.1.2</b> Covid19 Cases in Time Series</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#county"><i class="fa fa-check"></i><b>5.2</b> County</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#hospital"><i class="fa fa-check"></i><b>5.3</b> Hospital</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#covid-impact-on-airlines"><i class="fa fa-check"></i><b>5.4</b> Covid Impact on Airlines</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#covid-impact-on-restaurants"><i class="fa fa-check"></i><b>5.5</b> Covid Impact on Restaurants</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid Impact</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<script src="https://d3js.org/d3.v6.js"></script>
<button onclick="change(data2019)">
Travel in 2019
</button>
<button onclick="change(data2020)">
Travel in 2020
</button>
<h3>
Total Flights in a Given Year
</h3>
<p><paragraph>Click on a button to see the pattern of the total number of flights taken in a given year. What pattern do you notice between the years of 2019 and 2020?</paragraph></p>
<div id="plot">

</div>
<script>
//Create Line Graph for Airline Data 
var margin = {top: 20, right: 20, bottom: 50, left: 70},
    width = 600 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var svg = d3.select("div#plot")
    .append("svg")
          .attr("width", 600)
          .attr("height", 500)
    .append("g")
          .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
          
var data2019 = [
   {month: 1, tot_flight: 619099},
   {month: 2, tot_flight: 564614},
   {month: 3, tot_flight: 675659}, 
   {month: 4, tot_flight: 652533}, 
   {month: 5, tot_flight: 680165}, 
   {month: 6, tot_flight: 679802}, 
   {month: 7, tot_flight: 702876}
];

var data2020 = [
   {month: 1, tot_flight: 652140},
   {month: 2, tot_flight: 617008},
   {month: 3, tot_flight: 582998}, 
   {month: 4, tot_flight: 194390}, 
   {month: 5, tot_flight: 180151}, 
   {month: 6, tot_flight: 236234}, 
   {month: 7, tot_flight: 367933}
];
          
var xScale = d3.scaleBand().range([0, width]);
        
var yScale = d3.scaleLinear().range([height, 0]);
    
var xAxis = d3.axisBottom(xScale);
svg.append("g")
  .attr("transform", "translate(0," + height + ")")
  .attr("class","myXaxis");
  
svg.append("text")             
      .attr("transform",
            "translate(" + (width/2) + " ," + 
                           (height + margin.top + 20) + ")")
      .style("text-anchor", "middle")
      .text("Month(in number)");
  
var yAxis = d3.axisLeft(yScale);
svg.append("g")
  .attr("class","myYaxis");
  
svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("Total Flights");

function change(data){

  xScale.domain(d3.range(1, data.length+1));
  svg.selectAll(".myXaxis").transition()
    .duration(3000)
    .call(xAxis);

  yScale.domain([d3.min(data2020, 
  function(d) { return d.tot_flight - 100000  }),
  d3.max(data2019, function(d){return d.tot_flight + 10000}) ]);
  svg.selectAll(".myYaxis").transition()
    .duration(3000)
    .call(yAxis);

  var update = svg.selectAll(".lineChange")
  .data([data], function(d){ return d.month });

  update.enter()
    .append("path")
    .attr("class","lineChange")
    .merge(update)
    .transition()
    .duration(3000)
    .attr("d", d3.line()
      .x(function(d) { return xScale(d.month); })
      .y(function(d) { return yScale(d.tot_flight); }))
      .attr("fill", "none")
      .attr("stroke", "teal")
      .attr("stroke-width", 3);
    
}
    
change(data2019);
  
</script>
<p><paragraph>From this graph, we can clearly see a big drop in flights from March to April of 2020. One can assume from this drop that the pandemic most likely played a role in the decrease of flights. Around May, the number of flights slowly start to increase, but not to the level that it was at the beginning of the year, as can be seen by the comparison to the flights taken in May of 2019. Even though flight frequency increased, it is still not even half as close to the regular frequency of flights.</paragraph></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/run-zhang/CovidImpact/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/run-zhang/CovidImpact/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
